<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>
            Pizza
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">Pizza</ion-title>
        </ion-toolbar>
    </ion-header>

    <!-- Data to display after skeleton screen -->
    <div *ngIf="data">

        <p>Mise à jour le : {{lastUpdate | async | date: 'EEEE d MMMM y' | uppercase}}</p>

        <app-singlePizza *ngFor="let pizza of pizzas; let i = index"
                         [pizzaName]="pizza.nom"
                         [pizzaPhoto]="pizza.photo"
                         [pizzaPrice]="pizza.prix"
                         [pizzaIngredients]="pizza.ingredients"
                         [index]="i"
                         [id]="pizza.id"
                         (productAdded)="addProductToCart($event)"></app-singlePizza>
    </div>

    <!-- Skeleton screen -->
    <div *ngIf="!data">

        <ion-list-header>
            <ion-label>
                <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
            </ion-label>
        </ion-list-header>
        <ion-list>
            <ion-item>
                <ion-avatar slot="start">
                    <ion-skeleton-text animated></ion-skeleton-text>
                </ion-avatar>
                <ion-label>
                    <h3>
                        <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
                    </h3>
                    <p>
                        <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
                    </p>
                </ion-label>
            </ion-item>
            <ion-item>
                <ion-avatar slot="start">
                    <ion-skeleton-text animated></ion-skeleton-text>
                </ion-avatar>
                <ion-label>
                    <h3>
                        <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
                    </h3>
                    <p>
                        <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
                    </p>
                </ion-label>
            </ion-item>
            <ion-item>
                <ion-avatar slot="start">
                    <ion-skeleton-text animated></ion-skeleton-text>
                </ion-avatar>
                <ion-label>
                    <h3>
                        <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
                    </h3>
                    <p>
                        <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
                    </p>
                </ion-label>
            </ion-item>
            <ion-item>
                <ion-avatar slot="start">
                    <ion-skeleton-text animated></ion-skeleton-text>
                </ion-avatar>
                <ion-label>
                    <h3>
                        <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
                    </h3>
                    <p>
                        <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
                    </p>
                </ion-label>
            </ion-item>
        </ion-list>
        <ion-card>
            <ion-card-content>
                <ion-card-title>Contactez nous !</ion-card-title>
            </ion-card-content>
            <ion-card-footer>
                <ion-button (click)="action('Call')" flat icon="phone">Call</ion-button>
                <ion-button (click)="action('Message')" flat icon="bubble">Message</ion-button>
            </ion-card-footer>
        </ion-card>
    </div>


    <!--<button class="btn btn-primary" (click)="onFetch()">Récupérer les pizzas</button>-->

</ion-content>
